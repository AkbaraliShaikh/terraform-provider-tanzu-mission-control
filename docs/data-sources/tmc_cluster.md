---
Title: "Cluster Resource"
Description: |-
    Reading the cluster resource.
---

# Cluster

Different flavours such as attach cluster, TKG service workload and TKG Vsphere workload clusters can be fetched.

## Example Usage

```terraform
# Read TMC cluster : fetch cluster details
data "tmc_cluster" "ready_only_attach_cluster_view" {
  management_cluster_name = "attached"       # Default: attached
  provisioner_name        = "attached"       # Default: attached
  name                    = "terraform-test" # Required
}

# Read TMC TKG Service Vsphere workload cluster
data "tmc_cluster" "read_tkgs_cluster" {
  management_cluster_name = "test-tkgs"
  provisioner_name        = "test-gc-e2e-demo-ns"
  name                    = "cluster"
}

# Read TMC TKGVsphere Resource : fetch tkg_vsphere details
data "tmc_cluster" "read_tkg_vsphere_cluster" {
  management_cluster_name = "tkgm-vsphere"
  provisioner_name        = "default"
  name                    = "new-read"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **name** (String) Name of this cluster

### Optional

- **attach_k8s_cluster** (Block List, Max: 1) (see [below for nested schema](#nestedblock--attach_k8s_cluster))
- **id** (String) The ID of this resource.
- **management_cluster_name** (String) Name of the management cluster
- **meta** (Block List, Max: 1) Metadata for the resource (see [below for nested schema](#nestedblock--meta))
- **provisioner_name** (String) Provisioner of the cluster
- **spec** (Block List, Max: 1) Spec for the cluster (see [below for nested schema](#nestedblock--spec))
- **wait_until_ready** (Boolean) Wait flag of the cluster

### Read-Only

- **status** (Map of String) Status of the cluster

<a id="nestedblock--attach_k8s_cluster"></a>
### Nested Schema for `attach_k8s_cluster`

Optional:

- **description** (String) Attach cluster description
- **kubeconfig_file** (String) Attach cluster KUBECONFIG path


<a id="nestedblock--meta"></a>
### Nested Schema for `meta`

Optional:

- **description** (String) Description of the resource
- **labels** (Map of String) Labels for the resource

Read-Only:

- **annotations** (Map of String) Annotations for the resource
- **resource_version** (String) Resource version of the resource
- **uid** (String) UID of the resource


<a id="nestedblock--spec"></a>
### Nested Schema for `spec`

Optional:

- **cluster_group** (String) Name of the cluster group to which this cluster belongs
- **proxy** (String) Optional proxy name is the name of the Proxy Config to be used for the cluster
- **tkg_service_vsphere** (Block List, Max: 1) The tkg service vsphere cluster spec (see [below for nested schema](#nestedblock--spec--tkg_service_vsphere))
- **tkg_vsphere** (Block List, Max: 1) The TKG Vsphere cluster spec (see [below for nested schema](#nestedblock--spec--tkg_vsphere))

<a id="nestedblock--spec--tkg_service_vsphere"></a>
### Nested Schema for `spec.tkg_service_vsphere`

Required:

- **distribution** (Block List, Min: 1, Max: 1) VSphere specific distribution (see [below for nested schema](#nestedblock--spec--tkg_service_vsphere--distribution))
- **settings** (Block List, Min: 1, Max: 1) VSphere related settings for workload cluster (see [below for nested schema](#nestedblock--spec--tkg_service_vsphere--settings))
- **topology** (Block List, Min: 1, Max: 1) Topology specific configuration (see [below for nested schema](#nestedblock--spec--tkg_service_vsphere--topology))

<a id="nestedblock--spec--tkg_service_vsphere--distribution"></a>
### Nested Schema for `spec.tkg_service_vsphere.distribution`

Required:

- **version** (String) Version of the cluster


<a id="nestedblock--spec--tkg_service_vsphere--settings"></a>
### Nested Schema for `spec.tkg_service_vsphere.settings`

Required:

- **network** (Block List, Min: 1, Max: 1) Network Settings specifies network-related settings for the cluster (see [below for nested schema](#nestedblock--spec--tkg_service_vsphere--settings--network))

<a id="nestedblock--spec--tkg_service_vsphere--settings--network"></a>
### Nested Schema for `spec.tkg_service_vsphere.settings.network`

Required:

- **pods** (Block List, Min: 1) Pod CIDR for Kubernetes pods defaults to 192.168.0.0/16 (see [below for nested schema](#nestedblock--spec--tkg_service_vsphere--settings--network--pods))
- **services** (Block List, Min: 1) Service CIDR for kubernetes services defaults to 10.96.0.0/12 (see [below for nested schema](#nestedblock--spec--tkg_service_vsphere--settings--network--services))

<a id="nestedblock--spec--tkg_service_vsphere--settings--network--pods"></a>
### Nested Schema for `spec.tkg_service_vsphere.settings.network.pods`

Required:

- **cidr_blocks** (List of String) CIDRBlocks specifies one or more ranges of IP addresses


<a id="nestedblock--spec--tkg_service_vsphere--settings--network--services"></a>
### Nested Schema for `spec.tkg_service_vsphere.settings.network.services`

Required:

- **cidr_blocks** (List of String) CIDRBlocks specifies one or more ranges of IP addresses




<a id="nestedblock--spec--tkg_service_vsphere--topology"></a>
### Nested Schema for `spec.tkg_service_vsphere.topology`

Required:

- **control_plane** (Block List, Min: 1, Max: 1) Control plane specific configuration (see [below for nested schema](#nestedblock--spec--tkg_service_vsphere--topology--control_plane))

Optional:

- **node_pools** (Block List) Nodepool specific configuration (see [below for nested schema](#nestedblock--spec--tkg_service_vsphere--topology--node_pools))

<a id="nestedblock--spec--tkg_service_vsphere--topology--control_plane"></a>
### Nested Schema for `spec.tkg_service_vsphere.topology.node_pools`

Required:

- **class** (String) Control plane instance type
- **storage_class** (String) Storage Class to be used for storage of the disks which store the root filesystems of the nodes

Optional:

- **high_availability** (Boolean) High Availability or Non High Availability Cluster. HA cluster creates three controlplane machines, and non HA creates just one


<a id="nestedblock--spec--tkg_service_vsphere--topology--node_pools"></a>
### Nested Schema for `spec.tkg_service_vsphere.topology.node_pools`

Required:

- **info** (Block List, Min: 1, Max: 1) Info is the meta information of nodepool for cluster (see [below for nested schema](#nestedblock--spec--tkg_service_vsphere--topology--node_pools--info))

Optional:

- **spec** (Block List, Max: 1) Spec for the cluster nodepool (see [below for nested schema](#nestedblock--spec--tkg_service_vsphere--topology--node_pools--spec))

<a id="nestedblock--spec--tkg_service_vsphere--topology--node_pools--info"></a>
### Nested Schema for `spec.tkg_service_vsphere.topology.node_pools.info`

Optional:

- **description** (String) Description for the nodepool
- **name** (String) Name of the nodepool


<a id="nestedblock--spec--tkg_service_vsphere--topology--node_pools--spec"></a>
### Nested Schema for `spec.tkg_service_vsphere.topology.node_pools.spec`

Optional:

- **cloud_label** (Map of String) Cloud labels
- **node_label** (Map of String) Node labels
- **tkg_service_vsphere** (Block List, Max: 1) Nodepool config for tkg service vsphere (see [below for nested schema](#nestedblock--spec--tkg_service_vsphere--topology--node_pools--spec--tkg_service_vsphere))
- **worker_node_count** (String) Count is the number of nodes

<a id="nestedblock--spec--tkg_service_vsphere--topology--node_pools--spec--tkg_service_vsphere"></a>
### Nested Schema for `spec.tkg_service_vsphere.topology.node_pools.spec.worker_node_count`

Required:

- **class** (String) Control plane instance type
- **storage_class** (String) Storage Class to be used for storage of the disks which store the root filesystems of the nodes






<a id="nestedblock--spec--tkg_vsphere"></a>
### Nested Schema for `spec.tkg_vsphere`

Required:

- **distribution** (Block List, Min: 1, Max: 1) VSphere specific distribution (see [below for nested schema](#nestedblock--spec--tkg_vsphere--distribution))
- **settings** (Block List, Min: 1, Max: 1) VSphere related settings for workload cluster (see [below for nested schema](#nestedblock--spec--tkg_vsphere--settings))
- **topology** (Block List, Min: 1, Max: 1) Topology specific configuration (see [below for nested schema](#nestedblock--spec--tkg_vsphere--topology))

<a id="nestedblock--spec--tkg_vsphere--distribution"></a>
### Nested Schema for `spec.tkg_vsphere.distribution`

Required:

- **version** (String) Version specifies the version of the Kubernetes cluster
- **workspace** (Block List, Min: 1, Max: 1) Workspace defines a workspace configuration for the vSphere cloud provider (see [below for nested schema](#nestedblock--spec--tkg_vsphere--distribution--workspace))

<a id="nestedblock--spec--tkg_vsphere--distribution--workspace"></a>
### Nested Schema for `spec.tkg_vsphere.distribution.workspace`

Required:

- **datacenter** (String)
- **datastore** (String)
- **folder** (String)
- **resource_pool** (String)
- **workspace_network** (String)



<a id="nestedblock--spec--tkg_vsphere--settings"></a>
### Nested Schema for `spec.tkg_vsphere.settings`

Required:

- **network** (Block List, Min: 1, Max: 1) Network Settings specifies network-related settings for the cluster (see [below for nested schema](#nestedblock--spec--tkg_vsphere--settings--network))
- **security** (Block List, Min: 1, Max: 1) Security Settings specifies security-related settings for the cluster (see [below for nested schema](#nestedblock--spec--tkg_vsphere--settings--security))

<a id="nestedblock--spec--tkg_vsphere--settings--network"></a>
### Nested Schema for `spec.tkg_vsphere.settings.security`

Required:

- **control_plane_end_point** (String) ControlPlaneEndpoint specifies the control plane virtual IP address. The value should be unique for every create request, else cluster creation shall fail
- **pods** (Block List, Min: 1) Pod CIDR for Kubernetes pods defaults to 192.168.0.0/16 (see [below for nested schema](#nestedblock--spec--tkg_vsphere--settings--security--pods))
- **services** (Block List, Min: 1) Service CIDR for kubernetes services defaults to 10.96.0.0/12 (see [below for nested schema](#nestedblock--spec--tkg_vsphere--settings--security--services))

<a id="nestedblock--spec--tkg_vsphere--settings--security--pods"></a>
### Nested Schema for `spec.tkg_vsphere.settings.security.pods`

Required:

- **cidr_blocks** (List of String) CIDRBlocks specifies one or more ranges of IP addresses


<a id="nestedblock--spec--tkg_vsphere--settings--security--services"></a>
### Nested Schema for `spec.tkg_vsphere.settings.security.services`

Required:

- **cidr_blocks** (List of String) CIDRBlocks specifies one or more ranges of IP addresses



<a id="nestedblock--spec--tkg_vsphere--settings--security"></a>
### Nested Schema for `spec.tkg_vsphere.settings.security`

Required:

- **ssh_key** (String) SSH key for provisioning and accessing the cluster VMs



<a id="nestedblock--spec--tkg_vsphere--topology"></a>
### Nested Schema for `spec.tkg_vsphere.topology`

Required:

- **control_plane** (Block List, Min: 1, Max: 1) VSphere specific control plane configuration for workload cluster object (see [below for nested schema](#nestedblock--spec--tkg_vsphere--topology--control_plane))

Optional:

- **node_pools** (Block List) Nodepool specific configuration (see [below for nested schema](#nestedblock--spec--tkg_vsphere--topology--node_pools))

<a id="nestedblock--spec--tkg_vsphere--topology--control_plane"></a>
### Nested Schema for `spec.tkg_vsphere.topology.node_pools`

Required:

- **vm_config** (Block List, Min: 1, Max: 1) VM specific configuration (see [below for nested schema](#nestedblock--spec--tkg_vsphere--topology--node_pools--vm_config))

Optional:

- **high_availability** (Boolean) High Availability or Non High Availability Cluster. HA cluster creates three controlplane machines, and non HA creates just one

<a id="nestedblock--spec--tkg_vsphere--topology--node_pools--vm_config"></a>
### Nested Schema for `spec.tkg_vsphere.topology.node_pools.vm_config`

Optional:

- **cpu** (String)
- **disk_size** (String)
- **memory** (String)



<a id="nestedblock--spec--tkg_vsphere--topology--node_pools"></a>
### Nested Schema for `spec.tkg_vsphere.topology.node_pools`

Required:

- **info** (Block List, Min: 1, Max: 1) (see [below for nested schema](#nestedblock--spec--tkg_vsphere--topology--node_pools--info))

Optional:

- **spec** (Block List, Max: 1) Spec for the cluster nodepool (see [below for nested schema](#nestedblock--spec--tkg_vsphere--topology--node_pools--spec))

<a id="nestedblock--spec--tkg_vsphere--topology--node_pools--info"></a>
### Nested Schema for `spec.tkg_vsphere.topology.node_pools.info`

Required:

- **name** (String)

Optional:

- **description** (String)


<a id="nestedblock--spec--tkg_vsphere--topology--node_pools--spec"></a>
### Nested Schema for `spec.tkg_vsphere.topology.node_pools.spec`

Optional:

- **cloud_label** (Map of String) Cloud labels
- **node_label** (Map of String) Node labels
- **tkg_vsphere** (Block List, Max: 1) Nodepool config for tkgm vsphere (see [below for nested schema](#nestedblock--spec--tkg_vsphere--topology--node_pools--spec--tkg_vsphere))
- **worker_node_count** (String) Count is the number of nodes

<a id="nestedblock--spec--tkg_vsphere--topology--node_pools--spec--tkg_vsphere"></a>
### Nested Schema for `spec.tkg_vsphere.topology.node_pools.spec.worker_node_count`

Required:

- **vm_config** (Block List, Min: 1, Max: 1) VM specific configuration (see [below for nested schema](#nestedblock--spec--tkg_vsphere--topology--node_pools--spec--worker_node_count--vm_config))

<a id="nestedblock--spec--tkg_vsphere--topology--node_pools--spec--worker_node_count--vm_config"></a>
### Nested Schema for `spec.tkg_vsphere.topology.node_pools.spec.worker_node_count.vm_config`

Optional:

- **cpu** (String)
- **disk_size** (String)
- **memory** (String)